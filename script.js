const characterImages = {
  "ìŠ¤ë‚˜ì˜¤ì˜¤ì¹´ë¯¸ ì‹œë¡œì½”": "?https://FrostSnow4731.github.io/images/shiroko.png"
  };

const data = {
  "ì´í•™ìƒíšŒ": [
    "ë‚˜ë‚˜ê°€ë¯¸ ë¦°",
    "ìœ ë¼í‚¤ ëª¨ëª¨ì¹´",
    "ì´ì™€ë¹„ì¸  ì•„ìœ ë¬´",
    "ì‹œë¼ëˆ„ì´ ì¹´ì•¼",
    "ì˜¤í‚¤ ì•„ì˜¤ì´ ğŸ”’",
    "ìŠ¤ëª¨ëª¨",
    "í•˜ì´ë„¤"
  ],
  "ìƒ¬ë ˆ": [
    "ì•„ë¡œë‚˜",
    "í”„ë¼ë‚˜ ğŸ”’"
  ],
  "ì•„ë¹„ë„ìŠ¤": [
    "íƒ€ì¹´ë‚˜ì‹œ í˜¸ì‹œë…¸ ğŸ”’",
    "ì´ììš”ì´ ë…¸ë…¸ë¯¸ ğŸ”’",
    "ìŠ¤ë‚˜ì˜¤ì˜¤ì¹´ë¯¸ ì‹œë¡œì½”",
    "ì¿ ë¡œë¯¸ ì„¸ë¦¬ì¹´",
    "ì˜¤ì¿ ì†Œë¼ ì•„ì•¼ë„¤",
    "ìŠ¤ë‚˜ì˜¤ì˜¤ì¹´ë¯¸ ì‹œë¡œì½”(í…ŒëŸ¬)"
  ],
  "ê²Œí—¨ë‚˜": {
    "ë§Œë§ˆì „": [
      "í•˜ëˆ„ë§ˆ ë§ˆì½”í† ",
      "ì¿„ê³ ì¿  ì‚¬ì¸ í‚¤",
      "ë‚˜ì¸ ë©” ì´ë¡œí•˜ ğŸ”’",
      "ëª¨í† ë¯¸ì•¼ ì¹˜ì•„í‚¤",
      "íƒ„ê°€ ì´ë¶€í‚¤ ğŸ”’"
    ],
    "ì„ ë„ë¶€": [
      "ì†Œë¼ì‚¬í‚¤ íˆë‚˜ ğŸ”’",
      "ì•„ë§ˆìš° ì•„ì½” ğŸ”’",
      "ì‹œë¡œë¯¸ ì´ì˜¤ë¦¬ ğŸ”’",
      "íˆë…¸ë¯¸ì•¼ ì¹˜ë‚˜ì¸  ğŸ”’"
    ],
    "í¥ì‹ ì†Œ": [
      "ë¦¬ì¿ í•˜ì¹˜ë§ˆ ì•„ë£¨ ğŸ”’",
      "ì˜¤ë‹ˆì¹´íƒ€ ì¹´ìš”ì½” ğŸ”’",
      "ì•„ì‚¬ê¸° ë¬´ì¸ í‚¤",
      "ì´êµ¬ì‚¬ í•˜ë£¨ì¹´"
    ],
    "ë¯¸ì‹ì—°êµ¬íšŒ": [
      "ì¿ ë¡œë‹¤í…Œ í•˜ë£¨ë‚˜",
      "ì™€ë‹ˆë¶€ì¹˜ ì•„ì¹´ë¦¬",
      "ì‹œì‹œë„ìš° ì´ì¦ˆë¯¸",
      "ì•„ì¹´ì‹œ ì¤€ì½”"
    ],
    "ì˜¨ì²œê°œë°œë¶€": [
      "í‚¤ëˆ„ê°€ì™€ ì¹´ìŠ¤ë¯¸ ğŸ”’",
      "ì‹œëª¨ì¿ ë¼ ë©”êµ¬ ğŸ”’"
    ],
    "ë°˜ì§ë°˜ì§ë¶€": [
      "ìš”ìì¿ ë¼ í‚¤ë¼ë¼",
      "í•˜íƒ€ë¯¸ ì—ë¦¬ì¹´"
    ],
    "ê¸‰ì–‘ë¶€": [
      "ì•„ì´í‚¤ìš” í›„ìš°ì¹´ ğŸ”’",
      "ìš°ì‹œë§ˆí‚¤ ì£¼ë¦¬"
    ],
    "ì‘ê¸‰ì˜í•™ë¶€": [
      "íˆë¬´ë¡œ ì„¸ë‚˜"
    ]
  },
  "ë°€ë ˆë‹ˆì—„": {
    "ì„¸ë¯¸ë‚˜": [
      "ì¸ ì¹´ì¸ í‚¤ ë¦¬ì˜¤ ğŸ”’",
      "í•˜ì•¼ì„¸ ìœ ìš°ì¹´ ğŸ”’",
      "ìš°ì‹œì˜¤ ë…¸ì•„ ğŸ”’",
      "ì¿ ë¡œì‚¬í‚¤ ì½”ìœ í‚¤ ğŸ”’"
    ],
    "ê²Œì„ê°œë°œë¶€": [
      "í•˜ë‚˜ì˜¤ì¹´ ìœ ì¦ˆ",
      "ì‚¬ì´ë°” ë¯¸ë„ë¦¬",
      "ì‚¬ì´ë°” ëª¨ëª¨ì´",
      "í…ë„ ì•„ë¦¬ìŠ¤",
      "KEY"
    ],
    "ë² ë¦¬íƒ€ìŠ¤": [
      "ì¹´ê°€ë¯¸ ì¹˜íˆë¡œ ğŸ”’",
      "ì˜¤í† ì„¸ ì½”íƒ€ë§ˆ",
      "ì˜¤ë§ˆê°€ë¦¬ í•˜ë ˆ",
      "ì½”ëˆ„ë¦¬ ë§ˆí‚¤"
    ],
    "C&C": [
      "ë¯¸ì¹´ëª¨ ë„¤ë£¨",
      "ì´ì¹˜ë…¸ì„¸ ì•„ìŠ¤ë‚˜ ğŸ”’",
      "ì¹´ì¿ ë‹¤í…Œ ì¹´ë¦° ğŸ”’",
      "ë¬´ë¡œì¹´ì‚¬ ì•„ì¹´ë„¤",
      "ì•„ìŠ¤ë§ˆ í† í‚¤"
    ],
    "ì—”ì§€ë‹ˆì–´ë¶€": [
      "ì‹œë¼ì´ì‹œ ìš°íƒ€í•˜ ğŸ”’",
      "ë„¤ì½”ì¦ˆì¹´ íˆë¹„í‚¤",
      "í† ìš”ë¯¸ ì½”í† ë¦¬"
    ],
    "íŠ¸ë ˆì´ë‹ë¶€": [
      "ì˜¤í† í•˜ë‚˜ ìŠ¤ë¯¸ë ˆ",
      "ë…¸ë§ˆì‚¬ ë ˆì´"
    ],
    "ì´ˆí˜„ìƒíŠ¹ë¬´ë¶€": [
      "ì•„ì¼€ë³´ì‹œ íˆë§ˆë¦¬ ğŸ”’",
      "ì´ì¦ˆë¯¸ëª¨í†  ì—ì´ë¯¸"
    ]
  },
  "íŠ¸ë¦¬ë‹ˆí‹°": {
  "í‹°íŒŒí‹°": [
    "í‚¤ë¦¬í›„ì§€ ë‚˜ê¸°ì‚¬ ğŸ”’",
    "ë¯¸ì†Œë…¸ ë¯¸ì¹´ ğŸ”’",
    "ìœ ë¦¬ì¡°ë…¸ ì„¸ì´ì•„ ğŸ”’"
  ],
  "ë³´ì¶©ìˆ˜ì—…ë¶€": [
    "ì•„ì§€íƒ€ë‹ˆ íˆí›„ë¯¸ ğŸ”’",
    "ì‹œë¼ìŠ¤ ì•„ì¦ˆì‚¬ ğŸ”’",
    "ìš°ë¼ì™€ í•˜ë‚˜ì½” ğŸ”’",
    "ì‹œëª¨ì— ì½”í•˜ë£¨"
  ],
  "ìê²½ë‹¨": [
    "ëª¨ë¦¬ì¦ˆí‚¤ ìŠ¤ì¦ˆë¯¸",
    "ìš°ìì™€ ë ˆì´ì‚¬"
  ],
  "ë„ì„œë¶€": [
    "ì½”ì œí‚¤ ìš°ì´",
    "ì—”ë„ìš° ì‹œë¯¸ì½”"
  ],
  "ë°©ê³¼í›„ ë””ì €íŠ¸ë¶€": [
    "ì¿„ì•¼ë§ˆ ì¹´ì¦ˆì‚¬ ğŸ”’",
    "ì¿ ë¦¬ë¬´ë¼ ì•„ì´ë¦¬",
    "ì´ë°”ë¼ê¸° ìš”ì‹œë¯¸",
    "ìœ í† ë¦¬ ë‚˜ì¸ "
  ],
  "êµ¬í˜¸ê¸°ì‚¬ë‹¨": [
    "ì•„ì˜¤ëª¨ë¦¬ ë¯¸ë„¤",
    "ìŠ¤ë¯¸ ì„¸ë¦¬ë‚˜",
    "ì•„ì‚¬ê°€ì˜¤ í•˜ë‚˜ì—"
  ],
  "ì •ì˜ì‹¤í˜„ë¶€": [
    "ì¼„ìí‚¤ ì¸ ë£¨ê¸°",
    "í•˜ë„¤ì¹´ì™€ í•˜ìŠ¤ë¯¸",
    "ë‚˜ì¹´ë§ˆì‚¬ ì´ì¹˜ì¹´",
    "ì‹œì¦ˆì•¼ë§ˆ ë§ˆì‹œë¡œ"
  ],
  "ì‹œìŠ¤í„°í›„ë“œ": [
    "ìš°íƒ€ì¦ˆë¯¸ ì‚¬ì¿ ë¼ì½” ğŸ”’",
    "ì™€ì¹´ë°” íˆë‚˜íƒ€",
    "ì´ì˜¤ì¹˜ ë§ˆë¦¬"
  ]
},
"ì‚°í•´ê²½": {
  "í˜„ë£¡ë¬¸": [
    "ë¥˜ìš°ê²Œ í‚¤ì‚¬í‚¤ ğŸ”’",
    "ì½”ë…¸ì— ë¯¸ë‚˜ ğŸ”’"
  ],
  "ì—°ë‹¨ë°©": [
    "ì•¼ì¿ ì‹œ ì‚¬ì•¼"
  ],
  "ë§¤í™”ì›": [
    "ìŠ¤ë…¸í•˜ë¼ ìŠŒ",
    "ìŠ¤ë…¸í•˜ë¼ ì½”ì½”ë‚˜"
  ],
  "í˜„ë¬´ìƒíšŒ": [
    "ì•„ì¼€ì‹œë¡œ ë£¨ë¯¸",
    "ì¹´ì•¼ë§ˆ ë ˆì´ì£ "
  ]
},
"ë°±ê·€ì•¼í–‰": {
  "ìŒì–‘ë¶€": [
    "ì•„ë§ˆì¹˜ ë‹ˆì•¼",
    "ì¿ ì™€ì¹´ë¯¸ ì¹´í˜¸",
    "ì™€ë¼ì¿  ì¹˜ì„¸"
  ],
  "ë§ˆì¸ ë¦¬ìš´ì˜ê´€ë¦¬ë¶€": [
    "ì¹´ì™€ì™€ ì‹œì¦ˆì½”",
    "ì•„ì‚¬íˆë‚˜ í”¼ë‚˜",
    "ì‚¬í† í•˜ë§ˆ ìš°ë¯¸ì¹´"
  ],
  "ìˆ˜í–‰ë¶€": [
    "ì¹´ìŠ¤ê°€ ì¸ ë°”í‚¤",
    "ë¯¸ì¦ˆí•˜ ë¯¸ëª¨ë¦¬",
    "ì´ì‚¬ë¯¸ ì¹´ì—ë°"
  ],
  "ì¸ë²•ì—°êµ¬ë¶€": [
    "ì¹˜ë„ë¦¬ ë¯¸ì¹˜ë£¨",
    "ì˜¤ë…¸ ì¸ ì¿ ìš”",
    "ì¿ ë‹¤ ì´ì¦ˆë‚˜"
  ],
  "ë°±í™”ìš”ë€": [
    "ì¿ ì¦ˆë…¸í•˜ ğŸ”’",
    "ê³ ë£Œ ë‚˜êµ¬ì‚¬ ğŸ”’",
    "í›„ì™€ ë Œê²Œ",
    "í‚¤ë¥˜ í‚¤ì¿„ ğŸ”’",
    "ì¹´ë°ë…¸ì½”ì§€ ìœ ì¹´ë¦¬ ğŸ”’"
  ],
  "í™”ì¡°í’ì›”ë¶€": [
    "ì•¼ë¶€í‚¤ ìŠˆë¡œ"
  ]
},
"ë¶‰ì€ê²¨ìš¸": {
  "ì‚¬ë¬´êµ­": [
    "ë Œì¹´ì™€ ì²´ë¦¬ë…¸",
    "ì‚¬ì‹œë¡œ í† ëª¨ì—",
    "ì´ì¼€ì¿ ë¼ ë§ˆë¦¬ë‚˜"
  ],
  "227í˜¸ íŠ¹ë³„ë°˜": [
    "ì•„ë§ˆë¯¸ ë…¸ë„ì¹´ ğŸ”’",
    "ë§ˆìš”ì´ ì‹œêµ¬ë ˆ ğŸ”’"
  ],
  "ì§€ì‹í•´ë°©ì „ì„ ": [
    "íˆë©”í‚¤ ë©”ë£¨",
    "ì•„í‚¤ì´ì¦ˆë¯¸ ëª¨ë¯¸ì§€"
  ],
  "ìš©ì—­ë¶€": [
    "ì•¼ìŠ¤ëª¨ë¦¬ ë¯¸ë…¸ë¦¬"
  ],
  "ì¶œíŒë¶€": [
    "ë¯¸ìš”ì‹œ íƒ€ì¹´ë„¤"
  ]
},
"ë°œí‚¤ë¦¬": [
  "ì˜¤ê°€íƒ€ ì¹¸ë‚˜",
  "ì½”ë…¸ì¹´ ğŸ”’",
  "ë‚˜ì¹´ì¸ ì¹´ì‚¬ í‚¤ë¦¬ë…¸",
  "ë„¤ë¬´ê°€í‚¤ í›„ë¶€í‚¤"
],
"ì•„ë¦¬ìš°ìŠ¤": [
  "ì¡°ë§ˆì— ì‚¬ì˜¤ë¦¬ ğŸ”’",
  "ì´ë§ˆì‹œë…¸ ë¯¸ì‚¬í‚¤ ğŸ”’",
  "ì¸ ì¹˜ë‚˜ê°€ íˆìš”ë¦¬",
  "í•˜ì¹´ë¦¬ ì•„ì¸ ì½” ğŸ”’"
],
  "SRT": {
    "Rabbit ì†ŒëŒ€": [
      "ì¸ í‚¤ìœ í‚¤ ë¯¸ì•¼ì½”",
      "ì†Œë¼ì´ ì‚¬í‚¤",
      "ì¹´ì œì¿ ë¼ ëª¨ì—",
      "ì¹´ìŠ¤ë¯¸ìì™€ ë¯¸ìœ "
    ],
    "Fox ì†ŒëŒ€": [
      "ì‹œì¹˜ë„ ìœ í‚¤ë…¸",
      "ë‹ˆì½”",
      "ì¿ ë£¨ë¯¸",
      "ì˜¤í† ê¸°"
    ]
  },
  "ê¸°íƒ€": {
    "í•˜ì´ëœë”": [
      "ì•„ì‚¬ê¸°ë¦¬ ìŠ¤ì˜¤ìš°",
      "íƒ€ì¹˜ë°”ë‚˜ íˆì¹´ë¦¬",
      "íƒ€ì¹˜ë°”ë‚˜ ë…¸ì¡°ë¯¸"
    ],
    "í—¬ë©§ë‹¨": [
      "ì½”ë§ˆì¹´ì œ ë¼ë¸Œ"
    ],
    "ì¹ ìˆ˜ì¸": [
      "ì½”ì‚¬ì¹´ ì™€ì¹´ëª¨",
      "í‚¤ìš”ìŠ¤ë¯¸ ì•„í‚¤ë¼ ğŸ”’"
    ],
    "ê¸°íƒ€": [
      "íˆì£½íˆì£½êµìˆ˜"
    ]
  }
};

document.getElementById('intro').addEventListener('click', () => {
  document.getElementById('intro').classList.add('hidden');
});

let currentPopup = null; // í˜„ì¬ íŒì—…ì„ ì¶”ì 

function closePopup() {
  if (currentPopup) {
    currentPopup.classList.remove('show'); // 'show' í´ë˜ìŠ¤ë¥¼ ì œê±°í•˜ì—¬ ë‹«ê¸° ì• ë‹ˆë©”ì´ì…˜ ì ìš©
    currentPopup.classList.add('hide'); // 'hide' í´ë˜ìŠ¤ë¥¼ ì¶”ê°€
    setTimeout(() => {
      if (currentPopup && currentPopup.parentNode) {
        currentPopup.parentNode.removeChild(currentPopup); // ì• ë‹ˆë©”ì´ì…˜ í›„ íŒì—… ì œê±°
        currentPopup = null; // í˜„ì¬ íŒì—… ì´ˆê¸°í™”
      }
    }, 300); // ì• ë‹ˆë©”ì´ì…˜ ì‹œê°„ (0.3ì´ˆ) í›„ ì œê±°
  }
}

document.querySelectorAll('.academy').forEach(academy => {
  academy.addEventListener('click', () => {
    if (currentPopup) {
      closePopup(); // ê¸°ì¡´ íŒì—… ë‹«ê¸°
      setTimeout(createPopup, 300); // íŒì—… ë‹«ê¸° ì• ë‹ˆë©”ì´ì…˜ í›„ ìƒˆ íŒì—… ìƒì„±
    } else {
      createPopup();
    }

    function createPopup() {
      const academyName = academy.querySelector('p').textContent;

      // íŒì—… ìƒì„±
      const contentDiv = document.createElement('div');
      contentDiv.classList.add('popup', 'hide'); // ì²˜ìŒì—ëŠ” 'hide' ìƒíƒœë¡œ ìƒì„±
      document.body.appendChild(contentDiv);
      currentPopup = contentDiv; // í˜„ì¬ íŒì—… ì¶”ì 

      // í•™ì›ëª… í—¤ë”ì™€ ë‹«ê¸° ë²„íŠ¼ ìƒì„±
      const header = document.createElement('div');
      header.classList.add('popup-header');
      header.innerHTML = `
        <h2>${academyName}</h2>
        <button class="close-button">
          <img src="https://i.imgur.com/pdYHPD6.png" alt="ë‹«ê¸°" />
        </button>
      `;
      const closeButton = header.querySelector('.close-button');
      closeButton.addEventListener('click', closePopup); // ë‹«ê¸° ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€

      // íŒì—…ì°½ì— í—¤ë” ì¶”ê°€
      contentDiv.appendChild(header);

      // íŒì—… ë‚´ìš© ì„¤ì •
      if (typeof data[academyName] === 'object' && !Array.isArray(data[academyName])) {
        // ë™ì•„ë¦¬ê°€ ìˆëŠ” í•™ì›
        const subGroups = Object.keys(data[academyName]);
        const list = document.createElement('ul');
        list.style.listStyle = 'none'; // ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ ì œê±°
        list.style.textAlign = 'center'; // ë¦¬ìŠ¤íŠ¸ ì¤‘ì•™ ì •ë ¬

        subGroups.forEach(group => {
          const listItem = document.createElement('li');
          listItem.textContent = group;
          listItem.style.cursor = 'pointer';
          listItem.addEventListener('click', () => {
            contentDiv.innerHTML = `
              <button class="back-button">ëŒì•„ê°€ê¸°</button>
              <h2>${group}</h2>
              <ul style='list-style: none; text-align: center;'>
                ${data[academyName][group].map(s => `<li>${s}</li>`).join('')}
              </ul>
            `;
            const backButton = document.querySelector('.back-button');
            backButton.addEventListener('click', () => {
              contentDiv.innerHTML = '';
              contentDiv.appendChild(header); // í—¤ë”ë¥¼ ë‹¤ì‹œ ì¶”ê°€
              contentDiv.appendChild(list); // ë™ì•„ë¦¬ ëª©ë¡ì„ ë‹¤ì‹œ ì¶”ê°€
            });
          });
          list.appendChild(listItem);
        });

        contentDiv.appendChild(list);
      } else if (Array.isArray(data[academyName])) {
        // ë™ì•„ë¦¬ê°€ ì—†ëŠ” í•™ì›
        const students = data[academyName];
        const studentList = document.createElement('ul');
        studentList.style.listStyle = 'none';
        studentList.style.textAlign = 'center';

        students.forEach(student => {
          const listItem = document.createElement('li');
          listItem.textContent = student;
          studentList.appendChild(listItem);
        });

        contentDiv.appendChild(studentList);
      } else {
        contentDiv.innerHTML += `<p>í•™ìƒ ëª…ë¶€ê°€ ì—†ìŠµë‹ˆë‹¤.</p>`;
      }


      // íŒì—… í‘œì‹œ ì• ë‹ˆë©”ì´ì…˜
      setTimeout(() => {
        contentDiv.classList.remove('hide');
        contentDiv.classList.add('show'); // 'show' í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•˜ì—¬ ë‚˜íƒ€ë‚˜ëŠ” ì• ë‹ˆë©”ì´ì…˜ ì ìš©
      }, 10); // ì•½ê°„ì˜ ë”œë ˆì´ë¥¼ ì¶”ê°€í•˜ì—¬ ì• ë‹ˆë©”ì´ì…˜ íŠ¸ë¦¬ê±°
    }
  });
});





// CSS for popup with close button
const style = document.createElement('style');
style.textContent = `
  /* íŒì—… ìŠ¤íƒ€ì¼ ë° ì• ë‹ˆë©”ì´ì…˜ */
  .popup {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: linear-gradient(rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6)),
                url('https://i.imgur.com/q9BYdnw.jpeg') no-repeat center center;
    background-size: cover;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    z-index: 1000;
    max-width: 80%;
    max-height: 80%;
    overflow-y: auto;
    text-align: center;
    display: flex;
  flex-direction: column;
  justify-content: center;
  opacity: 0;
  transform: translate(-50%, -60%);
  transition: opacity 0.3s ease, transform 0.3s ease;
  }

  .popup.show {
    opacity: 1; /* ë‚˜íƒ€ë‚  ë•Œ */
    transform: translate(-50%, -50%); /* ì›ë˜ ìœ„ì¹˜ë¡œ ì´ë™ */
  }

  .popup.hide {
    opacity: 0; /* ì‚¬ë¼ì§ˆ ë•Œ */
    transform: translate(-50%, -60%); /* ë‹¤ì‹œ ìœ„ë¡œ ì´ë™ */
  }

  /* ë’¤ë¡œê°€ê¸° ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
  .back-button {
    display: inline-block;
    margin: 10px auto; /* ë²„íŠ¼ì„ ì¤‘ì•™ ì •ë ¬ */
    background: #007BFF;
    color: white;
    border: none;
    padding: 5px 10px;
    cursor: pointer;
    border-radius: 5px;
    font-size: 14px; /* ë²„íŠ¼ ê¸€ì”¨ í¬ê¸° */
  }

  .back-button:hover {
    background: #0056b3;
  }
`;
document.head.appendChild(style);
